# Menu driven program generation using General Purpose Trees

## Construction of GPT in a single pass.

-	The key point kept in mind while working with GPTs is that, in the binary tree
	representation of the GPT, a node to the left of a node is the child of that node 
	in the GPT and the node that is to the right of a node in the  binary tree representation 
	is the sibling of that node.

-	To construct a GPT from the given input text, we need a way to differentiate between a root
	node of the GPT being inserted and a non-root node of the GPT being inserted.
	-	We can make this distinction by looking at the number of tabs that the key in a particular
		line is preceeded by. 
	-	If the number of tabs is 0, then this is a root node of the GPT and anything greater than 0
		implies it is a non-root node of the GPT.
	
	
	### Addition of nodes:

	-	To add a root node, we start from the root of the binary tree and keep traversing right till
		the right child is NULL. Once it is, we insert this node there.
	-	To add a non-root node, we need to know the parent of this node in the GPT representation.
		-	Since the input is preceded by tabs, a variable called 'tabs' is maintained which is of 
			size 1024 (constraint on maximum characters per input line).
		-	The ith index in this table points to the latest key which had i tabs preceeding it. 
		-	Therefore, assuming that the number of tabs preceding the current key (to be inserted)
			child is tab_count, the parent of this child in the GPT representation will be the key at
			tabs[tab_count - 1]
		-	Next step is to find the node with the parent's key in the currently constructed tree and 
			return it.
		-	From this parent node, go left, if left is empty then insert it there, if not keep moving
			right and insert it when the right child becomes NULL.
		-	If a root is to be inserted then the parent is passed as a " " string and the case is handled
			appropriately.
	
	### Assumption:
		-	If one line of the input file has 't' tab spaces, the next line cannot have more than t+1
			tab spaces as indentation.

## Generation of code from the GPT.

-	The program should move up a level if 0 is given and should not do anything if no input is given. This
	can be achieved by having a nested switch case along with while loops controlled by user inputs. 
-	The nested nature of the switch cases can be generated by traversing the GPT such that all the children
	(left nodes) are processed first and then the siblings (right nodes).
-	The intuition is that all siblings appear as cases under the same switch statement. 
-	This can be achieved by recursively traversing the tree in a pre-order like fashion.
-	Generate a while followed by a switch and then recurse on the child of the current node and the close 
	switch followed by the while.
-	The number for the case according to which the switch statement will work is handled by incremented a
	variable everytime you begin to recurse on the sibling (since that is the next case in the same switch). 
	This variable is set to 1 when recursed on a child (since this signified a new nested switch and cases
	start from 1).

## Clean up
-	The allocated space for the tabs table is freed.
-	The space allocated for the tree is recursively freed using a pre-order traversal.